<!-- 一张日记卡片 -->
<div class="col">
  <a href="{% url 'diary:detail' diary.pk %}" style="color: inherit; text-decoration: none;">
    <div class="card h-100 mb-0 shadow-sm ">
      <!-- 图片-->
      {% comment %} {% if diary.image_url %}
      <div class="w-100 overflow-hidden " style="height:200px">
        <img src='{{ diary.image_url }}' class="card-img-top object-fit-cover " alt="日记第1张图片" style="">
      </div>
      {% endif %} {% endcomment %}
      <div class="card-body d-flex flex-column ">
        <div class="d-flex justify-content-between mb-2">
          <!-- 标题 评分 热度 -->
          <h5 class="card-title mb-0 text-truncate" title="{{ diary.title }}">{{ diary.title }}</h5>
          <span class="ms-auto ">⭐{{ diary.rating }}</span>
          <span class="full-width ms-2">🔥{{ diary.popularity }}</span>
        </div>
        <!-- 相关地点 -->
        <div class="mb-3">
          <i class="bi bi-geo-alt-fill text-muted"></i>
          <span class="card-text text-muted">{{ diary.location.name}}</span>
        </div>
        <!-- 截断了的日记内容 -->
        <span class="card-text truncate-lines mb-4 ">{{ diary.content }}</span>
        <!-- 说不定会用到 -->
        <div class="d-flex">
          
        </div>
        <!--作者 发布时间 -->
        <div class="d-flex align-items-center mt-auto ">
          {% include 'user_avatar.html' with size=20 user=diary.author %}
          <span class="card-text text-muted ms-1 text-truncate ">{{ diary.author.username }}</span>
          <span class="card-text text-muted ms-auto full-width">发布于 {{ diary.pub_time | date:"Y-m-d"}}</span>
        </div>
      </div>
    </div>
  </a>
</div>